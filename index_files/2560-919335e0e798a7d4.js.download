(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2560],{52560:function(e,t,n){Promise.resolve().then(n.bind(n,24433)),Promise.resolve().then(n.bind(n,94131)),Promise.resolve().then(n.bind(n,28841)),Promise.resolve().then(n.bind(n,80665)),Promise.resolve().then(n.bind(n,156)),Promise.resolve().then(n.bind(n,38261)),Promise.resolve().then(n.bind(n,17730)),Promise.resolve().then(n.bind(n,56502)),Promise.resolve().then(n.bind(n,85247)),Promise.resolve().then(n.bind(n,86064)),Promise.resolve().then(n.bind(n,74483)),Promise.resolve().then(n.bind(n,86108)),Promise.resolve().then(n.bind(n,83292)),Promise.resolve().then(n.bind(n,81622)),Promise.resolve().then(n.bind(n,84667)),Promise.resolve().then(n.bind(n,88980)),Promise.resolve().then(n.bind(n,82223)),Promise.resolve().then(n.bind(n,24060)),Promise.resolve().then(n.bind(n,45462)),Promise.resolve().then(n.bind(n,93390)),Promise.resolve().then(n.bind(n,92291)),Promise.resolve().then(n.bind(n,94620)),Promise.resolve().then(n.bind(n,55875)),Promise.resolve().then(n.bind(n,57879)),Promise.resolve().then(n.bind(n,86741)),Promise.resolve().then(n.bind(n,72541)),Promise.resolve().then(n.bind(n,44044)),Promise.resolve().then(n.bind(n,13852))},8184:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});let s={all:{title:"Ask Blackbox AI Anything",subtitle_desktop:"+10 Million Users & Fortune 500 Companies",subtitle_mobile:"+10 Million Users"},vscode:{title:"Ask Any Coding Question",subtitle_desktop:"+10 Million of Devs & Fortune 500 Companies",subtitle_mobile:"Trusted by +10 Million Devs"},builder:{title:"What do you want to build today?",subtitle_desktop:"+10 Million Users & Fortune 500 Companies",subtitle_mobile:"+10 Million Users"}}},77689:function(e,t,n){"use strict";n.d(t,{H:function(){return FooterText}});var s=n(19745);n(80833);var r=n(5217),a=n(83329),o=n.n(a);function FooterText(e){let{className:t,...n}=e;return(0,r.gH)()?(0,s.jsx)(s.Fragment,{}):(0,s.jsxs)("p",{style:{fontSize:"0.55rem"},className:(0,r.cn)("px-2 mt-2 text-center text-xs leading-small text-muted-foreground",t),...n,children:["By using Blackbox you agree to the"," ",(0,s.jsx)(o(),{href:"https://www.useblackbox.io/terms",children:"Terms"})," and"," ",(0,s.jsx)(o(),{href:"https://www.useblackbox.io/privacy",children:"Privacy"}),"."]})}},81021:function(e,t,n){"use strict";n.d(t,{dn:function(){return f}});var s=n(19745),r=n(80833),a=n(55060),o=n(37181),i=n(72532),l=n(56831),d=n(20288),c=n(69171),u=n(15856),m=n(10185),g=n(51384),p=n(51268),x=(n(86272),n(5217)),h=n(57944);n(25308);let f=(0,r.memo)(e=>{let{language:t,value:n,removeTop:f,cacheChatToLocalStorage:v,setInput:b,setLoadedCodeEditorContent:y,showVerify:w=!0,showOpenInEditor:j=!0,showRun:C=!0,onSave:N}=e,{isCopied:_,copyToClipboard:k}=(0,i.m)({timeout:2e3}),[S,I]=(0,r.useState)(!1),[E,T]=(0,r.useState)(n),D=(0,r.useRef)(null),A=(0,g.e)(),[P,O]=(0,r.useState)(!1);function saveEdit(){I(!1),N&&N(E)}function changeEdit(e){T(e.target.value),R&&L(e.target.value)}(0,r.useEffect)(()=>{T(n)},[n]);let[R,L]=(0,r.useState)(""),[z,G]=(0,r.useState)(!1),[M,B]=(0,r.useState)(!1),[U,H]=(0,r.useState)(""),createNewVsCodeSpace=async()=>{try{var e=new Headers;e.append("Content-Type","application/json");var n=JSON.stringify({code:E,language:t||""});let s=await fetch("/api/create-vscode",{method:"POST",headers:e,body:n,redirect:"follow"});if(G(!1),null==(s=await s.json())||!s.url)return{status:"fail"};{let e=null==s?void 0:s.url;H((null==s?void 0:s.url)+""),B(!0);let t={[s.name]:{id:s.name,createdAt:s.createdAt,url:e,name:s.name},id:s.id};return(0,h.saveWebVSCodes)(t,s.name),{status:"success"}}}catch(e){return console.log("error",e),{status:"fail"}}},handlePlayClick=async e=>{(0,u.X)(x.uS.other,"",{tag:"play-button-clicked"}),G(!0),createNewVsCodeSpace()};return(0,s.jsxs)("div",{className:"relative w-full font-sans codeblock bg-zinc-950",children:[!f&&(0,s.jsxs)("div",{className:"flex items-center justify-between w-full px-6 py-2 pr-4 bg-zinc-800 text-zinc-100",children:[(0,s.jsx)("span",{className:"text-xs lowercase",children:t}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[window.location.href.includes("vscode=")&&(0,s.jsxs)(d.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-zinc-800 focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>{var e;(null===(e=window)||void 0===e?void 0:e.parent)&&((0,u.X)(x.uS.other,"",{tag:"clicked-insert-code"}),window.parent.postMessage({type:"insertCode",code:E,language:t},"*"))},children:[(0,s.jsx)(l.Q7,{}),(0,s.jsx)("span",{className:"sr-only",children:"Insert Code"})]}),!window.location.href.includes("vscode=")&&(0,s.jsxs)(s.Fragment,{children:[w&&(0,s.jsx)(d.z,{variant:"ghost",className:"hover:bg-zinc-800 focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0 pr-16",onClick:()=>{b("```".concat(t||"","\n").concat(E,"\n```\nIs this code good?")),(0,u.X)("Other Engagement",A,{tag:"verify-code"})},size:"icon",children:(0,s.jsx)("span",{className:"hidden sm:block text-xs",children:"Verify"})}),j&&(0,s.jsxs)(d.z,{variant:"ghost",className:!1==window.matchMedia("(max-width: 768px)").matches?"hover:bg-zinc-800 focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0 pr-10 mobile-hide-item":"hover:bg-zinc-800 focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0 pr-2 mobile-hide-item",onClick:handlePlayClick,size:"icon",children:[(0,s.jsx)("span",{className:"hidden sm:block text-xs",children:"Open In Editor"}),(0,s.jsx)("span",{className:"sm:hidden text-xs",children:"Editor"})]})]}),(0,s.jsxs)(d.z,{variant:"ghost",className:"hover:bg-zinc-800 focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:handlePlayClick,size:"icon",children:[z?(0,s.jsx)(l.c0,{}):(0,s.jsx)(m.o1U,{}),(0,s.jsx)("span",{className:"sr-only",children:"Run"})]}),(0,s.jsxs)(d.z,{variant:"ghost",size:"icon",className:"text-xs hover:bg-zinc-800 focus-visible:ring-1 focus-visible:ring-slate-700 focus-visible:ring-offset-0",onClick:()=>{_||k(n)},children:[_?(0,s.jsx)(l.NO,{}):(0,s.jsx)(l.vU,{}),(0,s.jsx)("span",{className:"sr-only",children:"Copy code"})]})]})]}),S?(0,s.jsx)(c.g,{value:E,ref:D,style:{fontFamily:"monospace",border:"0"},rows:E.includes("\n")?E.split("\n").length:E.length>80?Math.round(E.length/80):1,onBlur:saveEdit,onChange:changeEdit,onKeyDown:e=>{if("Tab"==e.key){e.preventDefault();let{selectionStart:n,selectionEnd:s}=e.target,r=E.substring(0,n)+"    "+E.substring(s,E.length);if(D.current){var t;D.current.focus(),D.current.value=r,null===(t=D.current)||void 0===t||t.setSelectionRange(n+4,n+4),T(r)}}}}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.Z,{language:t&&"typescriptreact"!==t?t:"typescript",style:o.RY,PreTag:"div",showLineNumbers:!0,customStyle:{margin:0,width:"100%",background:"transparent",padding:"1.5rem 1rem"},codeTagProps:{style:{fontSize:"0.9rem",fontFamily:"var(--font-mono)"}},children:E})}),(0,s.jsx)(p.Vq,{open:M,onOpenChange:B,children:(0,s.jsxs)(p.cZ,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(p.fK,{children:[(0,s.jsx)(p.$N,{children:"Code Execution on a New VM"}),(0,s.jsx)(p.Be,{children:(0,s.jsxs)(p.Be,{children:["Open your code in the new virtual machine! You can continue from this code, edit it, run it and deploy it. It's also saved for you to view later. Here are the benefits:",(0,s.jsxs)("ul",{className:"mt-6",children:[(0,s.jsx)("li",{children:"1. Default 4CPU, 8GB Ram, 20G SSD"}),(0,s.jsx)("li",{children:"2. Continue from this code and edit it"}),(0,s.jsx)("li",{children:"3. Access CyberCoder Agent"}),(0,s.jsx)("li",{children:"4. Run it"}),(0,s.jsx)("li",{children:"5. Deploy it"}),(0,s.jsxs)("li",{children:["6. View it later ",(0,s.jsx)("a",{className:"underline",href:"/cybercoder",target:"_blank",rel:"noopener noreferrer",children:"here"})]})]})]})})]}),(0,s.jsx)(p.cN,{children:(0,s.jsx)(d.z,{onClick:()=>{U&&window.open(U)},type:"submit",className:"w-full",children:"OPEN CODE"})})]})})]})});f.displayName="CodeBlock"},16870:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var s=n(19745),r=n(80833),a=n(96063),o=n(73918),i=n(5217);let l=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-8 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:n,variant:r,size:o,...d}=e;return(0,s.jsx)(a.f,{ref:t,className:(0,i.cn)(l({variant:r,size:o,className:n})),...d})});d.displayName=a.f.displayName},34505:function(e,t,n){"use strict";var s=n(19745),r=n(56831),a=n(2466),o=n(2062),i=n(93651),l=n(96421),d=n(64242),c=n(63829);t.Z={web:[{message:"Web Search with Citations",icon:(0,s.jsx)(a.Z,{size:16,color:"rgb(0, 95, 204)",strokeWidth:"2px"})},{message:"Image/Docs/Code Analysis",icon:(0,s.jsx)(o.Z,{size:16,color:"rgb(255, 107, 107)",strokeWidth:"2px"})},{message:"Create Agent",icon:(0,s.jsx)(i.Z,{color:"rgb(7, 187, 28)",className:"size-4",strokeWidth:"2px"})},{message:"App Builder",icon:(0,s.jsx)(l.Z,{color:"rgb(120, 58, 228)",className:"size-4",strokeWidth:"2px"})}],vscode:[{message:"Chat With File Context",icon:(0,s.jsx)(d.Z,{size:16,color:"rgb(0, 95, 204)",strokeWidth:"2px"})},{message:"Chat With Repo Context",icon:(0,s.jsx)(c.Z,{size:16,color:"rgb(162, 70, 16)",strokeWidth:"2px"})},{message:"Search the web for finteune codellama",icon:(0,s.jsx)(r.pT,{color:"rgb(128, 89, 0)",className:"size-4",strokeWidth:"2px"})},{message:"How to build a neural network",icon:(0,s.jsx)(l.Z,{color:"rgb(120, 58, 228)",className:"size-4",strokeWidth:"2px"})}],builder:[{message:"Note Taking App",icon:(0,s.jsx)(d.Z,{size:16,color:"rgb(0, 95, 204)",strokeWidth:"2px"})},{message:"Email App",icon:(0,s.jsx)(c.Z,{size:16,color:"rgb(162, 70, 16)",strokeWidth:"2px"})},{message:"Make a netflix clone",icon:(0,s.jsx)(r.pT,{color:"rgb(128, 89, 0)",className:"size-4",strokeWidth:"2px"})},{message:"Make a website like spotify",icon:(0,s.jsx)(l.Z,{color:"rgb(120, 58, 228)",className:"size-4",strokeWidth:"2px"})}],mobile:[{message:"Web Search with Citations",icon:(0,s.jsx)(a.Z,{size:16,color:"rgb(0, 95, 204)",strokeWidth:"2px"})},{message:"Image/Docs/Code Analysis",icon:(0,s.jsx)(o.Z,{size:16,color:"rgb(255, 107, 107)",strokeWidth:"2px"})},{message:"Generate Image",icon:(0,s.jsx)(i.Z,{color:"rgb(7, 187, 28)",className:"size-4",strokeWidth:"2px"})},{message:"App Builder",icon:(0,s.jsx)(l.Z,{color:"rgb(120, 58, 228)",className:"size-4",strokeWidth:"2px"})}]}},266:function(e,t,n){"use strict";n.d(t,{G:function(){return useBreakpoint}});var s=n(80833),r=n(79632),a=n.n(r),o=n(88488),i=n.n(o);let l=a()(i()),d={sm:l.theme.screens.sm,md:l.theme.screens.md,lg:l.theme.screens.lg,xl:l.theme.screens.xl,"2xl":l.theme.screens["2xl"]},useBreakpoint=()=>{let[e,t]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=Object.entries(d).sort((e,t)=>{let[,n]=e,[,s]=t;return parseInt(n)-parseInt(s)}),n=e.map(e=>{let[t,n]=e;return{key:t,mql:window.matchMedia("(min-width: ".concat(n,")"))}}),getActiveBreakpoint=()=>{var e;let s=(null===(e=[...n].reverse().find(e=>{let{mql:t}=e;return t.matches}))||void 0===e?void 0:e.key)||"xs";t(s)};return getActiveBreakpoint(),n.forEach(e=>{let{mql:t}=e;t.addEventListener("change",getActiveBreakpoint)}),()=>{n.forEach(e=>{let{mql:t}=e;t.removeEventListener("change",getActiveBreakpoint)})}},[]),e}},13852:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return App}});var s,r,a,o,i,l,d,c,u,m,g=n(19745),p=n(15856),x=n(80833),h=n(32614);function extractHistoryTree(e,t){let n=[],s=t;for(;null!==s;){let t=e[s];if(t)"ai_create"===t.type?n.unshift(t.code):"ai_edit"===t.type?(n.unshift(t.code),n.unshift(t.inputs.prompt)):"code_create"===t.type&&n.unshift(t.code),s=t.parentIndex;else throw Error("Malformed history: missing parent index")}return n}function displayHistoryItemType(e){switch(e){case"ai_create":return"Create";case"ai_edit":return"Edit";case"code_create":return"Imported from code";default:throw Error("Unhandled case: ".concat(e))}}function summarizeHistoryItem(e){let t=e.type;switch(t){case"ai_create":return"Create";case"ai_edit":return e.inputs.prompt;case"code_create":return"Imported from code";default:throw Error("Unhandled case: ".concat(t))}}let renderHistory=(e,t)=>{let n=[];for(let s=0;s<e.length;s++){let r=e[s],a=null!==r.parentIndex&&r.parentIndex!==s-1?"v".concat((r.parentIndex||0)+1):null,o=displayHistoryItemType(r.type),i=s===t,l=summarizeHistoryItem(r);n.push({isActive:i,summary:l,parentVersion:a,type:o})}return n};var messages_DeprecationMessage=()=>(0,g.jsx)("div",{className:"rounded-lg p-2 bg-fuchsia-200",children:(0,g.jsx)("p",{className:"text-gray-800 text-sm",children:"We no longer support this model. Instead, code generation will use GPT-4o or Claude Sonnet 3.5, the 2 state-of-the-art models."})});function OnboardingNote(){return(0,g.jsx)("div",{className:"flex flex-col space-y-4 bg-green-700 p-2 rounded text-stone-200 text-sm",children:(0,g.jsxs)("span",{children:["To use Screenshot to Code,"," ",(0,g.jsx)("a",{className:"inline underline hover:opacity-70",href:"https://buy.stripe.com/8wM6sre70gBW1nqaEE",target:"_blank",children:"buy some credits (100 generations for $36)"})," ","or use your own OpenAI API key with GPT4 vision access."," ",(0,g.jsx)("a",{href:"https://github.com/abi/screenshot-to-code/blob/main/Troubleshooting.md",className:"inline underline hover:opacity-70",target:"_blank",children:"Follow these instructions to get yourself a key."})," ","and paste it in the Settings dialog (gear icon above). Your key is only stored in your browser. Never stored on our servers."]})})}function PicoBadge(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("a",{href:"https://screenshot-to-code.canny.io/feature-requests",target:"_blank",children:(0,g.jsx)("div",{className:"fixed z-50 bottom-16 right-5 rounded-md shadow bg-black text-white px-4 text-xs py-3 cursor-pointer",children:"feature requests?"})}),(0,g.jsx)("a",{href:"https://picoapps.xyz?ref=screenshot-to-code",target:"_blank",children:(0,g.jsx)("div",{className:"fixed z-50 bottom-5 right-5 rounded-md shadow text-black bg-white px-4 text-xs py-3 cursor-pointer",children:"an open source project by Pico"})})]})}(s=l||(l={})).ESPRESSO="espresso",s.COBALT="cobalt",(r=d||(d={})).INITIAL="INITIAL",r.CODING="CODING",r.CODE_READY="CODE_READY",(a=c||(c={})).INITIAL="initial",a.RECORDING="recording",a.FINISHED="finished";var f=n(81021),preview_CodeTab=function(e){let{code:t,setCode:n,settings:s}=e;return(0,x.useCallback)(async()=>{let e={html:t,editors:"100",layout:"left",css_external:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"+(t.includes("<ion-")?",https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css":""),js_external:"https://cdn.tailwindcss.com "+(t.includes("<ion-")?",https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js,https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js":"")},n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","data"),n.setAttribute("value",JSON.stringify(e));let s=document.createElement("form");s.setAttribute("method","POST"),s.setAttribute("action","https://codepen.io/pen/define"),s.setAttribute("target","_blank"),s.appendChild(n),document.body.appendChild(s),s.submit()},[t]),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("div",{className:"flex justify-start items-center px-4 mb-2"}),(0,g.jsx)("div",{className:"overflow-x-auto overflow-y-auto  mx-2 rounded-md text-white",children:(0,g.jsx)(f.dn,{language:"html",value:t,setInput:n,onSave:e=>{n(e)},showVerify:!1,showOpenInEditor:!1,showRun:!1})})]})},v=n(69670);let b=(0,v.Ue)(e=>({appState:d.INITIAL,setAppState:t=>e({appState:t}),updateInstruction:"",setUpdateInstruction:t=>e({updateInstruction:t}),shouldIncludeResultImage:!0,setShouldIncludeResultImage:t=>e({shouldIncludeResultImage:t}),inSelectAndEditMode:!1,toggleInSelectAndEditMode:()=>e(e=>({inSelectAndEditMode:!e.inSelectAndEditMode})),disableInSelectAndEditMode:()=>e({inSelectAndEditMode:!1})})),y=(0,v.Ue)(e=>({inputMode:"image",setInputMode:t=>e({inputMode:t}),isImportedFromCode:!1,setIsImportedFromCode:t=>e({isImportedFromCode:t}),referenceImages:[],setReferenceImages:t=>e({referenceImages:t}),generatedCode:"",setGeneratedCode:t=>e(e=>({generatedCode:"function"==typeof t?t(e.generatedCode):t})),executionConsole:[],setExecutionConsole:t=>e(e=>({executionConsole:"function"==typeof t?t(e.executionConsole):t})),currentVersion:null,setCurrentVersion:t=>e({currentVersion:t}),appHistory:[],setAppHistory:t=>e(e=>({appHistory:"function"==typeof t?t(e.appHistory):t}))}));function extractHtml(e){let t=e.lastIndexOf("<html>"),n=e.indexOf("</html>",t);return -1!==t?-1!==n?(n+=7,e.slice(t,n)):e.slice(t):""}var w=n(43359),j=n.n(w),hooks_useThrottle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,[n,s]=x.useState(e),r=x.useRef(null);return x.useEffect(()=>{let n=performance.now();if(!r.current||n>=r.current+t)r.current=n,s(e);else{let a=window.setTimeout(()=>{r.current=n,s(e)},t);return()=>window.clearTimeout(a)}},[e,t]),n},C=n(5217);let N=x.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,g.jsx)("textarea",{className:(0,C.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...s})});N.displayName="Textarea";var _=n(96812),k=n(73918);let S=(0,k.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),I=x.forwardRef((e,t)=>{let{className:n,variant:s,size:r,asChild:a=!1,...o}=e,i=a?_.g7:"button";return(0,g.jsx)(i,{className:(0,C.cn)(S({variant:s,size:r,className:n})),ref:t,...o})});function removeHighlight(e){return e.style.outline="",e.style.backgroundColor="",e}function addHighlight(e){return e.style.outline="2px dashed #1846db",e.style.backgroundColor="#bfcbf5",e}function getAdjustedCoordinates(e,t,n){let s=n?n.left:0,r=n?n.top:0;return{x:e+s,y:t+r}}I.displayName="Button";var E=n(53848),core_KeyboardShortcutBadge=e=>{let{letter:t}=e,n="enter"===t.toLowerCase()||"return"===t.toLowerCase()?(0,g.jsx)(E.R_q,{}):t.toUpperCase();return(0,g.jsx)("span",{className:"font-mono text-xs ml-2 rounded bg-gray-700 dark:bg-gray-900 text-white py-[2px] px-2",children:n})},select_and_edit_EditPopup=e=>{let{event:t,iframeRef:n,doUpdate:s}=e,{inSelectAndEditMode:r}=b(),a=(0,x.useRef)(r);(0,x.useEffect)(()=>{a.current=r},[r]);let[o,i]=(0,x.useState)(!1),[l,d]=(0,x.useState)({x:0,y:0}),[c,u]=(0,x.useState)(void 0),[m,p]=(0,x.useState)(""),h=(0,x.useRef)(null);function onUpdate(e){s(e,c?removeHighlight(c):c),u(void 0),i(!1)}if((0,x.useEffect)(()=>{r||(c&&removeHighlight(c),u(void 0),i(!1))},[r,c]),(0,x.useEffect)(()=>{var e,s;if(!a.current||!t)return;t.preventDefault();let r=t.target;if(!r)return;u(e=>(e&&removeHighlight(e),addHighlight(r)));let o=getAdjustedCoordinates(t.clientX,t.clientY,null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect());i(!0),d({x:o.x,y:o.y}),p(""),null===(s=h.current)||void 0===s||s.focus()},[t,n]),(0,x.useEffect)(()=>{if(o){var e;null===(e=h.current)||void 0===e||e.focus()}},[o]),o)return(0,g.jsxs)("div",{className:"absolute bg-white dark:bg-gray-800 p-4 border border-gray-300 dark:border-gray-600 rounded shadow-lg w-60",style:{top:l.y,left:l.x},children:[(0,g.jsx)(N,{ref:h,value:m,onChange:e=>p(e.target.value),placeholder:"Tell the AI what to change about this element...",className:"dark:bg-gray-700 dark:text-white",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),onUpdate(m))}}),(0,g.jsx)("div",{className:"flex justify-end mt-2",children:(0,g.jsxs)(I,{className:"dark:bg-gray-700 dark:text-white",onClick:()=>onUpdate(m),children:["Update ",(0,g.jsx)(core_KeyboardShortcutBadge,{letter:"enter"})]})})]})},preview_PreviewComponent=function(e){let{code:t,device:n,doUpdate:s}=e,r=(0,x.useRef)(null),a=hooks_useThrottle(t,200),[o,i]=(0,x.useState)(null);(0,x.useEffect)(()=>{let e=r.current;if(e){var t,n,s;null===(t=e.contentWindow)||void 0===t||t.document.open(),null===(n=e.contentWindow)||void 0===n||n.document.write(a),null===(s=e.contentWindow)||void 0===s||s.document.close(),e.addEventListener("load",function(){var t;null===(t=e.contentWindow)||void 0===t||t.document.body.addEventListener("click",i)})}},[a]);let l=new URLSearchParams(window.location.search),d="true"===l.get("share");return(0,g.jsxs)("div",{className:"flex justify-center mx-2",children:[(0,g.jsx)("iframe",{id:"preview-".concat(n),ref:r,title:"Preview",className:j()("rounded-[4px]",{"w-full h-[calc(75vh)]":"desktop"===n&&!d,"w-[400px] h-[calc(70vh)]":"mobile"===n&&!d,"w-screen h-screen":d},d&&"fixed top-0 left-0 z-[9999] bg-white"),style:d?{backdropFilter:"blur(10px)"}:{}}),d?(0,g.jsx)("div",{className:"fixed top-0 left-0 w-screen h-screen bg-white z-40"}):(0,g.jsx)(select_and_edit_EditPopup,{event:o,iframeRef:r,doUpdate:s})]})},T=n(51384),D=n(37077),A=n.n(D),preview_PreviewPane=function(e){let{doUpdate:t,reset:n,settings:s,referenceImages:r,selectedPreview:a}=e,{appState:o}=b(),{inputMode:i,generatedCode:l,setGeneratedCode:c}=y();(0,T.e)();let u="video"===i&&o===d.CODING?extractHtml(l):l;return(0,x.useCallback)(()=>{A()(u),h.default.success("Copied to clipboard")},[u]),(0,g.jsxs)("div",{className:"ml-4",children:["mobile"===a&&(0,g.jsx)(preview_PreviewComponent,{code:u,device:"mobile",doUpdate:t}),"desktop"===a&&(0,g.jsx)(preview_PreviewComponent,{code:u,device:"desktop",doUpdate:t}),"code"===a&&(0,g.jsx)(preview_CodeTab,{code:u,setCode:c,settings:s})]})},P=n(10185),O=n(98200);let R=O.fC,L=O.ZA;O.B4;let z=x.forwardRef((e,t)=>{let{className:n,children:s,...r}=e;return(0,g.jsxs)(O.xz,{ref:t,className:(0,C.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...r,children:[s,(0,g.jsx)(O.JO,{asChild:!0,children:(0,g.jsx)(P.jnn,{className:"h-4 w-4 opacity-50"})})]})});z.displayName=O.xz.displayName;let G=x.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,g.jsx)(O.u_,{ref:t,className:(0,C.cn)("flex cursor-default items-center justify-center py-1",n),...s,children:(0,g.jsx)(P.g8U,{})})});G.displayName=O.u_.displayName;let M=x.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,g.jsx)(O.$G,{ref:t,className:(0,C.cn)("flex cursor-default items-center justify-center py-1",n),...s,children:(0,g.jsx)(P.v4q,{})})});M.displayName=O.$G.displayName;let B=x.forwardRef((e,t)=>{let{className:n,children:s,position:r="popper",...a}=e;return(0,g.jsx)(O.h_,{children:(0,g.jsxs)(O.VY,{ref:t,className:(0,C.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:r,...a,children:[(0,g.jsx)(G,{}),(0,g.jsx)(O.l_,{className:(0,C.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,g.jsx)(M,{})]})})});B.displayName=O.VY.displayName;let U=x.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,g.jsx)(O.__,{ref:t,className:(0,C.cn)("px-2 py-1.5 text-sm font-semibold",n),...s})});U.displayName=O.__.displayName;let H=x.forwardRef((e,t)=>{let{className:n,children:s,...r}=e;return(0,g.jsxs)(O.ck,{ref:t,className:(0,C.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...r,children:[(0,g.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,g.jsx)(O.wU,{children:(0,g.jsx)(P.nQG,{className:"h-4 w-4"})})}),(0,g.jsx)(O.eT,{children:s})]})});H.displayName=O.ck.displayName;let W=x.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,g.jsx)(O.Z0,{ref:t,className:(0,C.cn)("-mx-1 my-1 h-px bg-muted",n),...s})});W.displayName=O.Z0.displayName;let F=(0,k.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:t,variant:n,...s}=e;return(0,g.jsx)("div",{className:(0,C.cn)(F({variant:n}),t),...s})}(o=u||(u={})).HTML_TAILWIND="html_tailwind",o.HTML_CSS="html_css",o.REACT_TAILWIND="react_tailwind",o.BOOTSTRAP="bootstrap",o.VUE_TAILWIND="vue_tailwind",o.IONIC_TAILWIND="ionic_tailwind",o.SVG="svg";let V={html_css:{components:["HTML","CSS"],inBeta:!1},html_tailwind:{components:["HTML","Tailwind"],inBeta:!1},react_tailwind:{components:["React","Tailwind"],inBeta:!1},bootstrap:{components:["Bootstrap"],inBeta:!1},vue_tailwind:{components:["Vue","Tailwind"],inBeta:!0},ionic_tailwind:{components:["Ionic","Tailwind"],inBeta:!0},svg:{components:["SVG"],inBeta:!0}};function generateDisplayComponent(e){let t=V[e].components;return(0,g.jsx)("div",{children:t.map((e,n)=>(0,g.jsxs)(x.Fragment,{children:[(0,g.jsx)("span",{className:"font-semibold",children:e}),n<t.length-1&&" + "]},n))})}var settings_OutputSettingsSection=function(e){let{stack:t,setStack:n,label:s="Generating:",shouldDisableUpdates:r=!1}=e;return(0,g.jsx)("div",{className:"flex flex-col gap-y-2 justify-between text-sm",children:(0,g.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,g.jsx)("span",{children:s}),(0,g.jsxs)(R,{value:t,onValueChange:e=>n(e),disabled:r,children:[(0,g.jsx)(z,{className:"col-span-2",id:"output-settings-js",children:t?generateDisplayComponent(t):"Select a stack"}),(0,g.jsx)(B,{children:(0,g.jsx)(L,{children:Object.values(u).map(e=>(0,g.jsx)(H,{value:e,children:(0,g.jsxs)("div",{className:"flex items-center",children:[generateDisplayComponent(e),V[e].inBeta&&(0,g.jsx)(Badge,{className:"ml-2",variant:"secondary",children:"Beta"})]})},e))})})]})]})})};(i=m||(m={})).CLAUDE_3_5_SONNET_2024_06_20="claude-3-5-sonnet-20240620",i.GPT_4O_2024_05_13="gpt-4o-2024-05-13",i.GPT_4_TURBO_2024_04_09="gpt-4-turbo-2024-04-09",i.GPT_4_VISION="gpt_4_vision",i.CLAUDE_3_SONNET="claude_3_sonnet";let Z={"gpt-4o-2024-05-13":{name:"GPT-4o",inBeta:!1},"claude-3-5-sonnet-20240620":{name:"Claude 3.5 Sonnet",inBeta:!1},"gpt-4-turbo-2024-04-09":{name:"GPT-4 Turbo (deprecated)",inBeta:!1},gpt_4_vision:{name:"GPT-4 Vision (deprecated)",inBeta:!1},claude_3_sonnet:{name:"Claude 3 (deprecated)",inBeta:!1}};var settings_ModelSettingsSection=function(e){let{codeGenerationModel:t,setCodeGenerationModel:n,shouldDisableUpdates:s=!1}=e;return(0,g.jsx)("div",{className:"hidden flex flex-col gap-y-2 justify-between text-sm",children:(0,g.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,g.jsx)("span",{children:"AI Model:"}),(0,g.jsxs)(R,{value:t,onValueChange:e=>n(e),disabled:s,children:[(0,g.jsx)(z,{className:"col-span-2",id:"output-settings-js",children:(0,g.jsx)("span",{className:"font-semibold",children:Z[t].name})}),(0,g.jsx)(B,{children:(0,g.jsx)(L,{children:Object.values(m).map(e=>(0,g.jsx)(H,{value:e,children:(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("span",{className:"font-semibold",children:Z[e].name}),Z[e].inBeta&&(0,g.jsx)(Badge,{className:"ml-2",variant:"secondary",children:"Beta"})]})},e))})})]})]})})};let GenerationSettings=e=>{let{settings:t,setSettings:n,selectedCodeGenerationModel:s}=e,{appState:r}=b();function setStack(e){n(t=>({...t,generatedCodeConfig:e}))}function setCodeGenerationModel(e){n(t=>({...t,codeGenerationModel:e}))}let a=r===d.CODING||r===d.CODE_READY;return(0,g.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,g.jsx)(settings_OutputSettingsSection,{stack:t.generatedCodeConfig,setStack:setStack,shouldDisableUpdates:a}),(0,g.jsx)(settings_ModelSettingsSection,{codeGenerationModel:s,setCodeGenerationModel:setCodeGenerationModel,shouldDisableUpdates:a})]})};var Y=n(61064),core_Spinner=function(){return(0,g.jsxs)("div",{role:"status",children:[(0,g.jsxs)("svg",{"aria-hidden":"true",className:"w-6 h-6 text-gray-200 animate-spin dark:text-gray-600 fill-gray-800",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,g.jsx)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),(0,g.jsx)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),(0,g.jsx)("span",{className:"sr-only",children:"Loading..."})]})},J=n(596);let K=J.fC,q=J.wy,X=J.Fw;function HistoryDisplay(e){let{shouldDisableReverts:t}=e,{appHistory:n,currentVersion:s,setCurrentVersion:r,setGeneratedCode:a}=y(),o=renderHistory(n,s),revertToVersion=e=>{e<0||e>=n.length||!n[e]||(r(e),a(n[e].code))};return 0===o.length?null:(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsx)("h1",{className:"font-bold mb-2",children:"Versions"}),(0,g.jsx)("ul",{className:"space-y-0 flex flex-col-reverse",children:o.map((e,n)=>(0,g.jsx)("li",{children:(0,g.jsxs)(K,{children:[(0,g.jsxs)("div",{className:j()("flex items-center justify-between space-x-2 w-full pr-2","border-b cursor-pointer",{" hover:bg-black hover:text-white":!e.isActive,"hover:bg-black hover:text-white":e.isActive}),children:[(0,g.jsxs)("div",{className:"flex justify-between truncate flex-1 p-2",onClick:()=>t?h.default.error("Please wait for code generation to complete before viewing an older version."):revertToVersion(n),children:[(0,g.jsxs)("div",{className:"flex gap-x-1 truncate",children:[(0,g.jsx)("h2",{className:"text-sm truncate",children:e.summary}),null!==e.parentVersion&&(0,g.jsxs)("h2",{className:"text-sm",children:["(parent: ",e.parentVersion,")"]})]}),(0,g.jsxs)("h2",{className:"text-sm",children:["v",n+1]})]}),(0,g.jsx)(q,{asChild:!0,children:(0,g.jsxs)(I,{variant:"ghost",size:"sm",className:"h-6 hover:bg-transparent",children:[(0,g.jsx)(P.jnn,{className:"h-4 w-4"}),(0,g.jsx)("span",{className:"sr-only",children:"Toggle"})]})})]}),(0,g.jsxs)(X,{className:"w-full bg-background p-2",children:[(0,g.jsxs)("div",{children:["Full prompt: ",e.summary]}),(0,g.jsx)("div",{className:"flex justify-end",children:(0,g.jsx)(Badge,{children:e.type})})]})]})},n))})]})}function ExportApp_HistoryDisplay(e){let{setSelectedPreview:t,downloadCode:n,generatedCode:s}=e;return(0,g.jsxs)("div",{className:"flex justify-center items-center gap-x-2",children:[(0,g.jsx)(I,{onClick:()=>{t("desktop")},className:"shadow-none flex items-center gap-x-2 dark:text-white dark:bg-gray-700 regenerate-btn",variant:"outline",children:(0,g.jsx)(P.ugZ,{})}),(0,g.jsx)(I,{onClick:()=>{t("mobile")},className:"shadow-none flex items-center gap-x-2 dark:text-white dark:bg-gray-700 regenerate-btn",variant:"outline",children:(0,g.jsx)(P.pY8,{})}),(0,g.jsx)(I,{onClick:()=>{t("code")},className:"shadow-none flex items-center gap-x-2 dark:text-white dark:bg-gray-700 regenerate-btn",variant:"outline",children:(0,g.jsx)(P.dNJ,{})}),(0,g.jsx)(I,{onClick:()=>n(s),className:"shadow-none flex items-center gap-x-2 dark:text-white dark:bg-gray-700 regenerate-btn",variant:"outline",children:(0,g.jsx)(P._8t,{})})]})}var preview_CodePreview=function(e){let{code:t}=e,n=(0,x.useRef)(null);return(0,x.useEffect)(()=>{n.current&&(n.current.scrollLeft=n.current.scrollWidth)},[t]),(0,g.jsx)("div",{ref:n,className:"w-full px-2 bg-black text-green-400 whitespace-nowrap flex  overflow-x-auto font-mono text-[10px] my-4",children:t})},select_and_edit_SelectAndEditModeToggleButton=function(e){let{setSelectedPreview:t,selectedPreview:n}=e,{inSelectAndEditMode:s,toggleInSelectAndEditMode:r}=b();return(0,g.jsx)(I,{onClick:()=>{window.innerWidth<1e3?"code"===n?t("desktop"):t("code"):r()},className:"shadow-none flex-1 flex items-center gap-x-2 dark:text-white dark:bg-gray-700 regenerate-btn",variant:"outline",children:(0,g.jsxs)("span",{children:[window.innerWidth<1e3&&(0,g.jsx)(g.Fragment,{children:"code"===n?"Preview":"Code"}),window.innerWidth>1e3&&(0,g.jsx)(g.Fragment,{children:s?"Exit selection mode":"Select and update"})]})})},sidebar_Sidebar=function(e){let{showSelectAndEditFeature:t,doUpdate:n,regenerate:s,cancelCodeGeneration:r,setSelectedPreview:a,reset:o,downloadCode:i,selectedPreview:l}=e,{appState:c,updateInstruction:u,shouldIncludeResultImage:m,setShouldIncludeResultImage:p}=b(),{inputMode:x,generatedCode:h,referenceImages:f,executionConsole:v}=y();return(0,g.jsxs)(g.Fragment,{children:[c===d.CODING&&(0,g.jsxs)("div",{className:"flex flex-col",children:["video"===x&&(0,g.jsx)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-2 text-xs mb-4 mt-1",children:"Code generation from videos can take 3-4 minutes. We do multiple passes to get the best result. Please be patient."}),(0,g.jsxs)("div",{className:"flex items-center gap-x-1",children:[(0,g.jsx)(core_Spinner,{}),v.slice(-1)[0]]}),(0,g.jsx)(preview_CodePreview,{code:h})]}),c===d.CODE_READY&&(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"grid w-full gap-2",children:(0,g.jsxs)("div",{className:"flex justify-between items-center gap-x-2",children:[(0,g.jsx)("div",{className:"font-500 text-xs text-slate-700 dark:text-white",children:"Include screenshot of current version?"}),(0,g.jsx)(Y.rs,{checked:m,onCheckedChange:p,className:"dark:bg-gray-700"})]})}),(0,g.jsx)("div",{className:"flex items-center justify-between gap-x-2 mt-2",children:t&&(0,g.jsx)(select_and_edit_SelectAndEditModeToggleButton,{selectedPreview:l,setSelectedPreview:a})})]}),(0,g.jsxs)("div",{className:"flex gap-x-2",children:[f.length>0&&(0,g.jsxs)("div",{className:"flex flex-col",children:[(0,g.jsxs)("div",{className:j()({"scanning relative":c===d.CODING}),children:["image"===x&&(0,g.jsx)("img",{className:"w-[340px] border border-gray-200 rounded-md",src:f[0],alt:"Reference"}),"video"===x&&(0,g.jsx)("video",{muted:!0,autoPlay:!0,loop:!0,className:"w-[340px] border border-gray-200 rounded-md",src:f[0]})]}),(0,g.jsx)("div",{className:"text-gray-400 uppercase text-sm text-center mt-1",children:"video"===x?"Original Video":"Original Screenshot"})]}),(0,g.jsxs)("div",{className:"bg-gray-400 px-4 py-2 rounded text-sm hidden",children:[(0,g.jsx)("h2",{className:"text-lg mb-4 border-b border-gray-800",children:"Console"}),v.map((e,t)=>(0,g.jsx)("div",{className:"border-b border-gray-400 mb-2 text-gray-600 font-mono",children:e},t))]})]}),window.innerWidth>1e3&&(0,g.jsx)(ExportApp_HistoryDisplay,{setSelectedPreview:a,downloadCode:i,generatedCode:h}),window.innerWidth>1e3&&(0,g.jsx)(HistoryDisplay,{shouldDisableReverts:c===d.CODING})]})},$=n(49026),Q=n(8184),layout_ExamplesGrid=e=>{let{examples:t,handleClickExample:n}=e;return(0,g.jsx)("div",{className:"mobile-hide-item grid grid-cols-1 gap-2 sm:px-0 sm:grid-cols-4 md:grid-cols-2 md:w-[350px] lg:grid-cols-2 lg:w-[500px] xl:grid-cols-4 xl:w-[650px] 2xl:w-[700px]",children:t.map((e,t)=>(0,g.jsxs)("div",{className:(0,C.cn)("cursor-pointer rounded-lg border py-3 px-4 transition hover:bg-gray-100 dark:hover:bg-zinc-900"),onClick:s=>n(s,e,t),children:[(0,g.jsx)("div",{className:"icon mb-3",children:e.icon}),(0,g.jsxs)("div",{className:"text-sm text-zinc-600 !text-left dark:text-white",children:[e.message.slice(0,1e3),e.message.length>1e3?"...":""]})]},e.message))})},ee=n(34505),layout_EmptyStateSection=e=>{let{pageType:t,handleClickExample:n}=e,s=Q.z[t].title,r=Q.z[t].subtitle_desktop,a=Q.z[t].subtitle_mobile,o=window.location.href.includes("vscode")?ee.Z.vscode:window.location.href.includes("/screenshot")?ee.Z.builder:ee.Z.web;return(0,g.jsxs)("div",{className:"flex flex-col items-center gap-2 rounded-lg p-8 pt-10 landing-center",children:[(0,g.jsx)("h1",{style:{fontSize:"1.5rem"},className:"text-2xl font-bold text-ellipsis overflow-hidden sm:block md:text-3xl lg:text-4xl",children:s}),(0,g.jsx)("div",{className:"sm:px-4 mt-5",children:(0,g.jsx)(layout_ExamplesGrid,{examples:o.slice(0,4),handleClickExample:n})}),(0,g.jsx)("div",{className:"flex items-center pt-2",children:(0,g.jsxs)("p",{style:{margin:0},className:"leading-normal text-sm text-muted-foreground text-truncate whitespace-nowrap",children:[(0,g.jsx)("span",{className:"hidden sm:block text-xs",children:r}),(0,g.jsx)("span",{className:"sm:hidden text-xs",children:a})]})})]})};let et={flex:1,width:"80%",margin:"0 auto",minHeight:"400px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",outline:"none",transition:"border .24s ease-in-out"},en={borderColor:"#2196f3"},es={borderColor:"#00e676"},er={borderColor:"#ff1744"};function fileToDataURL(e){return new Promise((t,n)=>{let s=new FileReader;s.onload=()=>t(s.result),s.onerror=e=>n(e),s.readAsDataURL(e)})}var components_ImageUpload=function(e){let{setReferenceImages:t,setUpdateInstruction:n}=e,[s,r]=(0,x.useState)([]),[a,o]=(0,x.useState)(c.INITIAL),i=window.location.href.includes("/screenshot")?"builder":window.location.href.includes("vscode")?"vscode":"all",{getRootProps:l,getInputProps:d,isFocused:u,isDragAccept:m,isDragReject:p}=(0,$.uI)({maxFiles:1,maxSize:20971520,accept:{"image/png":[".png"],"image/jpeg":[".jpeg"],"image/jpg":[".jpg"],"video/quicktime":[".mov"],"video/mp4":[".mp4"],"video/webm":[".webm"]},onDrop:e=>{r(e.map(e=>Object.assign(e,{preview:URL.createObjectURL(e)}))),Promise.all(e.map(e=>fileToDataURL(e))).then(e=>{e.length>0&&t(e.map(e=>e),e[0].startsWith("data:video")?"video":"image")}).catch(e=>{h.toast.error("Error reading files"+e),console.error("Error reading files:",e)})},onDropRejected:e=>{h.toast.error("Error reading files")}});(0,x.useEffect)(()=>()=>s.forEach(e=>URL.revokeObjectURL(e.preview)),[s]);let f=(0,x.useMemo)(()=>({...et,...u?en:{},...m?es:{},...p?er:{}}),[u,m,p]);return(0,g.jsx)("section",{className:"",children:a===c.INITIAL&&(0,g.jsxs)("div",{...l({style:f}),children:[(0,g.jsx)("input",{id:"builder-upload-trigger",...d(),className:"file-input"}),(0,g.jsx)("div",{style:{textAlign:"center"},children:(0,g.jsx)(layout_EmptyStateSection,{pageType:i,handleClickExample:(e,t,s)=>{e.stopPropagation(),n(t.message);let r=document.getElementById("builder-chat-textarea");r?r.value=t.message:console.error("Prompt input element not found")}})})]})})},start_pane_StartPane=e=>{let{doCreate:t,importFromCode:n,settings:s,setUpdateInstruction:r}=e;return(0,g.jsx)("div",{className:"flex flex-col justify-center items-center gap-y-10",children:(0,g.jsx)(components_ImageUpload,{setReferenceImages:t,setUpdateInstruction:r})})},ea=n(17552),eo=n(20288);let ei=ea.fC;ea.xz;let el=ea.h_,ed=x.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,g.jsx)(ea.aV,{className:(0,C.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...s,ref:t})});ed.displayName=ea.aV.displayName;let ec=x.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,g.jsxs)(el,{children:[(0,g.jsx)(ed,{}),(0,g.jsx)(ea.VY,{ref:t,className:(0,C.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...s})]})});ec.displayName=ea.VY.displayName;let AlertDialogHeader=e=>{let{className:t,...n}=e;return(0,g.jsx)("div",{className:(0,C.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...n})};AlertDialogHeader.displayName="AlertDialogHeader";let AlertDialogFooter=e=>{let{className:t,...n}=e;return(0,g.jsx)("div",{className:(0,C.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...n})};AlertDialogFooter.displayName="AlertDialogFooter";let eu=x.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,g.jsx)(ea.Dx,{ref:t,className:(0,C.cn)("text-lg font-semibold",n),...s})});eu.displayName=ea.Dx.displayName;let em=x.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,g.jsx)(ea.dk,{ref:t,className:(0,C.cn)("text-sm text-muted-foreground",n),...s})});em.displayName=ea.dk.displayName;let eg=x.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,g.jsx)(ea.aU,{ref:t,className:(0,C.cn)((0,eo.d)(),n),...s})});eg.displayName=ea.aU.displayName;let ep=x.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,g.jsx)(ea.$j,{ref:t,className:(0,C.cn)((0,eo.d)({variant:"outline"}),"mt-2 sm:mt-0",n),...s})});ep.displayName=ea.$j.displayName;let ex=x.forwardRef((e,t)=>{let{className:n,type:s,...r}=e;return(0,g.jsx)("input",{type:s,className:(0,C.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...r})});ex.displayName="Input";var eh=n(99720);let ef="true"===eh.env.VITE_IS_DEPLOYED,ev=eh.env.VITE_WS_BACKEND_URL||"wss://screenshot-to-code-xe2d.onrender.com";eh.env.VITE_HTTP_BACKEND_URL;let eb=eh.env.VITE_PICO_BACKEND_FORM_SECRET||null,ey=["microsoft","amazon","mit","stanford","bytedance","baidu"];var components_TermsOfServiceDialog=e=>{let{open:t,onOpenChange:n}=e,[s,r]=x.useState(""),onSubscribe=async()=>{await fetch("https://backend.buildpicoapps.com/form",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,secret:eb})})};return(0,g.jsx)(ei,{open:t,onOpenChange:n,children:(0,g.jsxs)(ec,{children:[(0,g.jsx)(AlertDialogHeader,{children:(0,g.jsx)(eu,{className:"mb-2 text-xl",children:"Enter your email to get started"})}),(0,g.jsx)("div",{className:"mb-2",children:(0,g.jsx)(ex,{placeholder:"Email",value:s,onChange:e=>{r(e.target.value)}})}),(0,g.jsxs)("div",{className:"flex flex-col space-y-3 text-sm",children:[(0,g.jsxs)("p",{children:["By providing your email, you consent to receiving occasional product updates, and you accept the"," ",(0,g.jsx)("a",{href:"https://a.picoapps.xyz/camera-write",target:"_blank",className:"underline",children:"terms of service"}),"."," "]}),(0,g.jsxs)("p",{children:[" ","Prefer to run it yourself locally? This project is open source."," ",(0,g.jsx)("a",{href:"https://github.com/abi/screenshot-to-code",target:"_blank",className:"underline",children:"Download the code and get started on Github."})]})]}),(0,g.jsx)(AlertDialogFooter,{children:(0,g.jsx)(eg,{onClick:e=>{s.trim()&&s.trim().includes("@")?onSubscribe():(e.preventDefault(),h.default.error("Please enter your email"))},children:"Agree & Continue"})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"mx-auto grid max-w-lg items-center gap-x-2  gap-y-10 sm:max-w-xl grid-cols-6 lg:mx-0 lg:max-w-none mt-10",children:ey.map(e=>(0,g.jsx)("img",{className:"col-span-1 max-h-12 w-full object-contain grayscale opacity-50 hover:opacity-100",src:"https://picoapps.xyz/logos/".concat(e,".png"),alt:e,width:120,height:48},e))}),(0,g.jsx)("div",{className:"text-gray-500 text-xs mt-4 text-center",children:"Designers and engineers from these organizations use Screenshot to Code to build interfaces faster."})]})]})})},ew=n(92544);function generateCode(e,t,n,s,r,a,o){let i=new WebSocket("".concat(ev,"/generate-code"));e.current=i,i.addEventListener("open",()=>{i.send(JSON.stringify(t))}),i.addEventListener("message",async e=>{let t=JSON.parse(e.data);"chunk"===t.type?n(t.value):"status"===t.type?r(t.value):"setCode"===t.type?s(t.value):"error"===t.type&&(console.error("We're witnessing high demand. Try again in a few minutes"),h.default.error("We're witnessing high demand. Try again in a few minutes"))}),i.addEventListener("close",e=>{console.log("Connection closed",e.code,e.reason),e.code===ew.hy?(h.default.success("Code generation cancelled"),a()):e.code===ew.fk?(console.error("Known server error",e),a()):1e3!==e.code?(console.error("Unknown server or connection error",e),h.default.error("Unknown server or connection error"),a()):o()}),i.addEventListener("error",e=>{console.error("WebSocket error",e),h.default.error("WebSocket error")})}let ej={title:"Coding...",favicon:"/favicon/coding.png"},eC={title:"Image to Code",favicon:"/favicon/main.png"};var hooks_useBrowserTabIndicator=e=>{(0,x.useEffect)(()=>{let t=e?ej:eC,n=document.querySelector("link[rel='icon']");n&&(n.href=t.favicon),document.title=t.title},[e])};function usePersistedState(e,t){let[n,s]=(0,x.useState)(()=>{let n=window.localStorage.getItem(t);return n?JSON.parse(n):e});return(0,x.useEffect)(()=>{window.localStorage.setItem(t,JSON.stringify(n))},[t,n]),[n,s]}var eN=n(55201),e_=n.n(eN);let takeScreenshot=async()=>{var e;let t=document.querySelector("#preview-desktop");if(!(null==t?void 0:null===(e=t.contentWindow)||void 0===e?void 0:e.document.body))return"";let n=await e_()(t.contentWindow.document.body),s=n.toDataURL("image/png");return s};var ek=n(3531),eS=n(77689),eI=n(2062),eE=n(16870),eT=n(266),prompt_input_PromptInput=e=>{let{appState:t,updateInstruction:n,setUpdateInstruction:s,doUpdate:r,handlePromptSubmit:a,disabled:o}=e,i=(0,eT.G)(),l=(0,x.useRef)(null);return(0,x.useEffect)(()=>{t===d.CODE_READY&&l.current&&l.current.focus()},[t]),(0,g.jsxs)("div",{className:"xs"===i||"sm"===i?"fixed inset-x-0 bottom-0 mb-safe animate-in duration-300 ease-in-out peer-[[data-state=open]]:group-[]:lg:pl-[250px]":"px-4 md:py-2 fixed bottom-0 sm:w-auto max-w-screen-lg mx-auto right-0 custom-chat-input",style:{bottom:"env(safe-area-inset-bottom, 0px)",paddingBottom:"env(safe-area-inset-bottom, 16px)",backgroundColor:"var(--background, white)"},children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"relative z-10 ",children:" "}),(0,g.jsxs)("div",{className:"rounded-md",children:[(0,g.jsx)("div",{id:"slash-command"}),(0,g.jsx)("div",{className:"flex justify-between",children:(0,g.jsx)("div",{style:{display:"flex",marginLeft:"1.5em"}})}),(0,g.jsxs)("div",{className:"absolute flex gap-2 bottom-[calc(100%+1rem)] hidden",children:[(0,g.jsx)("img",{className:"h-10"}),(0,g.jsxs)("div",{className:"text-sm flex items-center gap-2",children:[(0,g.jsx)("button",{children:(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",className:"h-4 w-4",children:(0,g.jsx)("path",{d:"M205.66 194.34a8 8 0 0 1-11.32 11.32L128 139.31l-66.34 66.35a8 8 0 0 1-11.32-11.32L116.69 128 50.34 61.66a8 8 0 0 1 11.32-11.32L128 116.69l66.34-66.35a8 8 0 0 1 11.32 11.32L139.31 128Z"})})}),(0,g.jsx)("svg",{width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{d:"M3 2.5C3 2.22386 3.22386 2 3.5 2H9.08579C9.21839 2 9.34557 2.05268 9.43934 2.14645L11.8536 4.56066C11.9473 4.65443 12 4.78161 12 4.91421V12.5C12 12.7761 11.7761 13 11.5 13H3.5C3.22386 13 3 12.7761 3 12.5V2.5ZM3.5 1C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V4.91421C13 4.51639 12.842 4.13486 12.5607 3.85355L10.1464 1.43934C9.86514 1.15804 9.48361 1 9.08579 1H3.5ZM4.5 4C4.22386 4 4 4.22386 4 4.5C4 4.77614 4.22386 5 4.5 5H7.5C7.77614 5 8 4.77614 8 4.5C8 4.22386 7.77614 4 7.5 4H4.5ZM4.5 7C4.22386 7 4 7.22386 4 7.5C4 7.77614 4.22386 8 4.5 8H10.5C10.7761 8 11 7.77614 11 7.5C11 7.22386 10.7761 7 10.5 7H4.5ZM4.5 10C4.22386 10 4 10.2239 4 10.5C4 10.7761 4.22386 11 4.5 11H10.5C10.7761 11 11 10.7761 11 10.5C11 10.2239 10.7761 10 10.5 10H4.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),(0,g.jsx)("span",{})]})]}),(0,g.jsxs)("div",{className:"relative flex max-h-60 w-full grow flex-col overflow-hidden bg-background dark:bg-bgDarkSecondary md:rounded-md md:border blackbox-textarea-hover-color px-2 md:px-2",children:[(0,g.jsxs)("div",{className:"pl-0 sm:pl-4 ml-4 items-center gap-1 overflow-y-auto text-area-send-space flex",children:[" ",(0,g.jsx)("textarea",{id:"builder-chat-textarea",ref:l,tabIndex:0,disabled:o,rows:1,placeholder:"Message Blackbox or upload image...",spellCheck:"false",className:"min-h-[60px] placeholder:text-gray-700 w-full dark:placeholder:text-gray-100 resize-none bg-transparent pr-4 py-[1.3rem] focus-within:outline-none sm:text-base whitespace-nowrap",style:{height:"66px !important"},onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||a(n)},value:n})]}),(0,g.jsx)("div",{className:"absolute right-0 top-4 sm:right-4",children:(0,g.jsx)("button",{disabled:o,className:"bg-primary text-primary-foreground inline-flex items-center justify-center text-sm font-medium shadow ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input hover:bg-accent hover:text-accent-foreground h-8 w-8 rounded-full p-0","data-state":"closed",style:{marginRight:"0.3em"},onClick:()=>{console.log("---- updateInstruction: ",n),a(n)},children:(0,g.jsx)("span",{className:"md:flex",children:(0,g.jsx)("svg",{width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{d:"M7.14645 2.14645C7.34171 1.95118 7.65829 1.95118 7.85355 2.14645L11.8536 6.14645C12.0488 6.34171 12.0488 6.65829 11.8536 6.85355C11.6583 7.04882 11.3417 7.04882 11.1464 6.85355L8 3.70711L8 12.5C8 12.7761 7.77614 13 7.5 13C7.22386 13 7 12.7761 7 12.5L7 3.70711L3.85355 6.85355C3.65829 7.04882 3.34171 7.04882 3.14645 6.85355C2.95118 6.65829 2.95118 6.34171 3.14645 6.14645L7.14645 2.14645Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})})})}),(0,g.jsx)("div",{className:"flex items-center justify-between gap-4 py-2 px-0 sm:px-4",children:(0,g.jsx)("div",{className:"flex items-center gap-4",children:(0,g.jsx)(eE.Z,{size:"sm","aria-label":"Toggle bold",children:(0,g.jsxs)(eo.z,{variant:"ghost",size:"sm",className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 pl-1 pr-1",onClick:()=>{var e;null===(e=document.getElementById("builder-upload-trigger"))||void 0===e||e.click()},children:[(0,g.jsx)(eI.Z,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),"Upload ","xs"!==i?"Files":""]})})})})]})]})]}),(0,g.jsx)(eS.H,{className:"mobile-hide-item"})]})},hooks_usePrevious=e=>{let t=(0,x.useRef)();return(0,x.useEffect)(()=>{t.current=e},[e]),t.current},hooks_useUpdateEffectOnce=function(e,t){let n=(0,x.useRef)(!0),s=(0,x.useRef)(t);(0,x.useEffect)(()=>{if(n.current){n.current=!1;return}t.some((e,t)=>e!==s.current[t])&&(e(),s.current=t)},t)};let downloadCode=e=>{let t=new Blob([e],{type:"text/html"}),n=URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download="index.html",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)};var App=function(e){let{id:t,details:n}=e,{inputMode:s,setInputMode:r,isImportedFromCode:a,setIsImportedFromCode:o,referenceImages:i,setReferenceImages:c,generatedCode:f,setGeneratedCode:v,setExecutionConsole:w,currentVersion:j,setCurrentVersion:N,appHistory:_,setAppHistory:k}=y();(0,x.useEffect)(()=>{n&&(r(n.inputMode),c(n.referenceImages),N(n.currentVersion),k(n.appHistory),v(n.generatedCode),R(d.CODE_READY))},[n]);let[S,I]=(0,x.useState)(t),E=(0,ek.useRouter)(),{disableInSelectAndEditMode:D,updateInstruction:A,setUpdateInstruction:P,appState:O,setAppState:R,shouldIncludeResultImage:L,setShouldIncludeResultImage:z}=b(),G=(0,x.useCallback)(async()=>{let e=await fetch("/api/screenshot",{body:JSON.stringify({inputMode:s,isImportedFromCode:a,referenceImages:i,appHistory:_,currentVersion:j,generatedCode:f,id:S,userId:Z}),method:"POST"}),t=await e.json();t.id&&!window.location.href.includes("share=true")&&(E.replace("/screenshot/".concat(t.id)),I(t.id),window.history.pushState(null,"","".concat(window.location.href,"/").concat(t.id))),E.refresh()},[s,a,i,_,j,f]),M=hooks_usePrevious(O);hooks_useUpdateEffectOnce(()=>{O===d.CODE_READY&&M!==d.CODE_READY&&G()},[O]);let[B,U]=usePersistedState({openAiApiKey:null,openAiBaseURL:null,anthropicApiKey:null,screenshotOneApiKey:null,isImageGenerationEnabled:!0,editorTheme:l.COBALT,generatedCodeConfig:u.HTML_TAILWIND,codeGenerationModel:m.GPT_4O_2024_05_13,isTermOfServiceAccepted:!1},"setting"),H=(0,x.useRef)(null),W=B.codeGenerationModel||m.GPT_4_VISION,F=W!==m.GPT_4O_2024_05_13&&W!==m.CLAUDE_3_5_SONNET_2024_06_20&&O===d.INITIAL,V=(W===m.GPT_4O_2024_05_13||W===m.CLAUDE_3_5_SONNET_2024_06_20)&&(B.generatedCodeConfig===u.HTML_TAILWIND||B.generatedCodeConfig===u.HTML_CSS);hooks_useBrowserTabIndicator(O===d.CODING),(0,x.useEffect)(()=>{B.generatedCodeConfig||U(e=>({...e,generatedCodeConfig:u.HTML_TAILWIND}))},[B.generatedCodeConfig,U]);let Z=(0,T.e)(),reset=()=>{R(d.INITIAL),v(""),c([]),w([]),P(""),o(!1),k([]),N(null),z(!1),D()},cancelCodeGenerationAndReset=()=>{null===j?reset():(v(_[j].code),R(d.CODE_READY))};function doGenerateCode(e,t){w([]),R(d.CODING);let n={...e,...B};(0,p.X)("Chat Request",Z,{tag:"request-image-generate-code",status:"request-done"}),generateCode(H,n,e=>v(t=>t+e),n=>{localStorage.getItem("paymentSuccessImageToApp"),v(n),"create"===e.generationType?(k([{type:"ai_create",parentIndex:null,code:n,inputs:{image_url:i[0]}}]),N(0)):k(s=>{if(null===t)return h.default.error("No parent version set. Contact support or open a Github issue."),s;let r=[...s,{type:"ai_edit",parentIndex:t,code:n,inputs:{prompt:e.history?e.history[e.history.length-1]:""}}];return N(r.length-1),r})},e=>w(t=>[...t,e]),()=>{cancelCodeGenerationAndReset()},()=>{(0,p.X)(C.uS.other,Z,{tag:"request-image-generate-code",status:"request-success"}),R(d.CODE_READY)})}function doCreate(e,t){reset(),c(e),r(t),e.length>0&&doGenerateCode({generationType:"create",image:e[0],inputMode:t},j)}async function doUpdate(e,t){return new Promise(async(n,s)=>{let r;let{inputMode:a,isImportedFromCode:o,referenceImages:i,setGeneratedCode:l,currentVersion:d,appHistory:c}=y.getState();if(""===e.trim())return h.default.error("Please include some instructions for AI on what to update."),s(Error("Empty update instruction"));if(null===d)return h.default.error("No current version set. Contact support or open a Github issue."),s(Error("No current version set"));try{r=extractHistoryTree(c,d)}catch(e){return h.default.error("Version history is invalid. This shouldn't happen. Please contact support or open a Github issue."),s(Error("Invalid version history"))}let u=e;t&&(u=e+" referring to this element specifically: "+t.outerHTML);let m=[...r,u];if(L){let e=await takeScreenshot();doGenerateCode({generationType:"update",inputMode:a,image:i[0],resultImage:e,history:m,isImportedFromCode:o},d)}else doGenerateCode({generationType:"update",inputMode:a,image:i[0],history:m,isImportedFromCode:o},d);l(""),P(""),n(!0)})}function setStack(e){U(t=>({...t,generatedCodeConfig:e}))}function importFromCode(e,t){return new Promise(async(n,s)=>{R(d.CODING),o(!0),v(e),setStack(t),k([{type:"code_create",parentIndex:null,code:e,inputs:{code:e}}]),N(0),setTimeout(()=>{console.log("resolved"),n(!0)},1e3)})}let handlePromptSubmit=async e=>{O===d.INITIAL&&(P(""),await importFromCode("<html></html>",u.HTML_TAILWIND)),doUpdate(e)},[Y,J]=(0,x.useState)("desktop");return(0,g.jsxs)("div",{className:"mt-2 pb-[6em] sm:pb-0 dark:text-white",children:[ef&&(0,g.jsx)(PicoBadge,{}),ef&&(0,g.jsx)(components_TermsOfServiceDialog,{open:!B.isTermOfServiceAccepted,onOpenChange:e=>{U(t=>({...t,isTermOfServiceAccepted:!e}))}}),(0,g.jsx)("div",{className:"flex flex-col lg:fixed lg:z-40 lg:flex lg:w-96",children:(0,g.jsxs)("div",{className:"flex grow flex-col gap-y-2 overflow-y-auto border-r border-gray-100 px-6 dark:text-white",children:[(0,g.jsx)(GenerationSettings,{settings:B,setSettings:U,selectedCodeGenerationModel:W}),F&&(0,g.jsx)(messages_DeprecationMessage,{}),O!==d.CODE_READY&&(0,g.jsx)(g.Fragment,{}),ef&&!B.openAiApiKey&&(0,g.jsx)(OnboardingNote,{}),(O===d.CODING||O===d.CODE_READY)&&(0,g.jsx)(sidebar_Sidebar,{showSelectAndEditFeature:V,doUpdate:doUpdate,regenerate:()=>{if(null===j){h.default.error("No current version set. Please open a Github issue as this shouldn't happen.");return}let e=_[j];if("ai_create"!==e.type){h.default.error("Only the first version can be regenerated.");return}doCreate(i,s)},cancelCodeGeneration:()=>{var e,t;null===(t=H.current)||void 0===t||null===(e=t.close)||void 0===e||e.call(t,ew.hy),cancelCodeGenerationAndReset()},setSelectedPreview:J,selectedPreview:Y,reset:reset,downloadCode:downloadCode})]})}),(0,g.jsx)("div",{className:"hidden xl:block fixed top-0 bottom-0 left-96 w-px bg-gray-200 dark:bg-gray-700 z-50"}),(0,g.jsxs)("main",{className:"py-2 lg:pl-96",children:[O===d.INITIAL&&(0,g.jsx)(start_pane_StartPane,{doCreate:doCreate,importFromCode:importFromCode,settings:B,setUpdateInstruction:P}),(O===d.CODING||O===d.CODE_READY)&&(0,g.jsx)(preview_PreviewPane,{doUpdate:doUpdate,reset:reset,settings:B,referenceImages:i,selectedPreview:Y}),window.innerWidth<1e3&&(O===d.CODING||O===d.CODE_READY)&&(0,g.jsx)("div",{className:"mt-6 p-6",children:(0,g.jsx)(ExportApp_HistoryDisplay,{setSelectedPreview:J,downloadCode:downloadCode,generatedCode:f})}),window.innerWidth<1e3&&(O===d.CODING||O===d.CODE_READY)&&(0,g.jsx)("div",{className:" pl-6 pr-6 pb-6",children:(0,g.jsx)(HistoryDisplay,{shouldDisableReverts:O===d.CODING})}),!window.location.href.includes("share=true")&&(0,g.jsx)(prompt_input_PromptInput,{disabled:O===d.CODING,appState:O,updateInstruction:A,setUpdateInstruction:P,shouldIncludeResultImage:L,setShouldIncludeResultImage:z,doUpdate:doUpdate,handlePromptSubmit:handlePromptSubmit})]})]})}},92544:function(e,t,n){"use strict";n.d(t,{FC:function(){return o},b$:function(){return i},fk:function(){return s},hy:function(){return r},xR:function(){return a}});let s=4332,r=4333,a=[{language:"TypeScript",extension:".ts"},{language:"TypeScript",extension:".tsx"},{language:"JavaScript",extension:".js"},{language:"JavaScript",extension:".jsx"},{language:"CSS",extension:".css"},{language:"LESS",extension:".less"},{language:"SCSS",extension:".scss"},{language:"SASS",extension:".sass"},{language:"JSON",extension:".json"},{language:"HTML",extension:".html"},{language:"XML",extension:".xml"},{language:"Handlebars",extension:".hbs"},{language:"Handlebars",extension:".handlebars"},{language:"Pug",extension:".pug"},{language:"Python",extension:".py"},{language:"Python Notebook",extension:".ipynb"},{language:"Java",extension:".java"},{language:"C#",extension:".cs"},{language:"C++",extension:".cpp"},{language:"C++",extension:".cc"},{language:"C++",extension:".cxx"},{language:"C++",extension:".h"},{language:"C",extension:".c"},{language:"Ruby",extension:".rb"},{language:"PHP",extension:".php"},{language:"Swift",extension:".swift"},{language:"Kotlin",extension:".kt"},{language:"Go",extension:".go"},{language:"Rust",extension:".rs"},{language:"Scala",extension:".scala"},{language:"Dart",extension:".dart"},{language:"Haskell",extension:".hs"},{language:"Erlang",extension:".erl"},{language:"Elixir",extension:".ex"},{language:"Bash",extension:".sh"},{language:"PowerShell",extension:".ps1"},{language:"Lua",extension:".lua"},{language:"Perl",extension:".pl"},{language:"R",extension:".r"},{language:"CoffeeScript",extension:".coffee"},{language:"Markdown",extension:".md"},{language:"Razor",extension:".cshtml"},{language:"Jinja",extension:".j2"},{language:"YAML",extension:".yaml"},{language:"TOML",extension:".toml"},{language:"Arduino",extension:".ino"},{language:"VB",extension:".vb"},{language:"F#",extension:".fs"},{language:"Batch",extension:".bat"},{language:"Batch",extension:".cmd"},{language:"Objective-C",extension:".m"},{language:"Objective-C",extension:".mm"},{language:"Text",extension:".txt"},{language:"Diff",extension:".diff"},{language:"Diff",extension:".patch"},{language:"CSV",extension:".csv"},{language:"JSONL",extension:".jsonl"},{language:"XML",extension:".xml"},{language:"INI",extension:".ini"}],o=[{format:"JPEG",extension:".jpg"},{format:"JPEG",extension:".jpeg"},{format:"PNG",extension:".png"},{format:"GIF",extension:".gif"},{format:"SVG",extension:".svg"},{format:"WEBP",extension:".webp"},{format:"BMP",extension:".bmp"},{format:"TIFF",extension:".tiff"},{format:"TIFF",extension:".tif"},{format:"ICO",extension:".ico"},{format:"AVIF",extension:".avif"}],i=[{format:"MP4",extension:".mp4"},{format:"WebM",extension:".webm"},{format:"Ogg",extension:".ogg"},{format:"MOV",extension:".mov"}]},88488:function(e,t,n){"use strict";let{fontFamily:s}=n(56824);e.exports={darkMode:["class"],content:["app/**/*.{ts,tsx}","components/**/*.{ts,tsx}","./src-screenshot/**/*.{ts,tsx}"],theme:{screens:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px",xlmin:"1370px",xlcustom:"1440px","2xl":"1536px"},container:{center:!0,padding:"2rem",screens:{"2xl":"1400px"}},extend:{fontFamily:{sans:["var(--font-sans)",...s.sans]},colors:{bgDarkMain:"rgb(33, 33, 33)",textGithubGrayDark:"#f0f6fc",bgDarkSidebar:"#171717",bgDarkSidebarHover:"#212020",bgDarkSecondary:"rgb(47, 47, 47)",bgDarkSecondaryContrast:"rgb(103, 103, 103)",border:"hsl(var(--border))",input:"hsl(var(--input))",ring:"hsl(var(--ring))",background:"hsl(var(--background))",foreground:"hsl(var(--foreground))",primary:{DEFAULT:"hsl(var(--primary))",foreground:"hsl(var(--primary-foreground))"},secondary:{DEFAULT:"hsl(var(--secondary))",foreground:"hsl(var(--secondary-foreground))"},destructive:{DEFAULT:"hsl(var(--destructive))",foreground:"hsl(var(--destructive-foreground))"},muted:{DEFAULT:"hsl(var(--muted))",foreground:"hsl(var(--muted-foreground))"},accent:{DEFAULT:"hsl(var(--accent))",foreground:"hsl(var(--accent-foreground))"},popover:{DEFAULT:"hsl(var(--popover))",foreground:"hsl(var(--popover-foreground))"},card:{DEFAULT:"hsl(var(--card))",foreground:"hsl(var(--card-foreground))"}},borderRadius:{lg:"var(--radius)",md:"calc(var(--radius) - 2px)",sm:"calc(var(--radius) - 4px)"},keyframes:{"accordion-down":{from:{height:0},to:{height:"var(--radix-accordion-content-height)"}},"accordion-up":{from:{height:"var(--radix-accordion-content-height)"},to:{height:0}},"slide-from-left":{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(0)"}},"slide-to-left":{"0%":{transform:"translateX(0)"},"100%":{transform:"translateX(-100%)"}}},animation:{"slide-from-left":"slide-from-left 0.3s cubic-bezier(0.82, 0.085, 0.395, 0.895)","slide-to-left":"slide-to-left 0.25s cubic-bezier(0.82, 0.085, 0.395, 0.895)","accordion-down":"accordion-down 0.2s ease-out","accordion-up":"accordion-up 0.2s ease-out"}}},plugins:[n(45575),n(34528)]}}}]);